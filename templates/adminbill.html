<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Payment Status - HostelHub</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='design-system.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='adminbill.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="nav-title">Student Payment Status</div>

        <div class="nav-buttons">
            <a href="/adminsetbill">Set Monthly Bill</a>
            <a href="{{ url_for('xHostelIndex') }}">Back</a>
        </div>
    </nav>

    <!-- PAGE TITLE -->
    <h1>Student Payment Status for {{ month }}</h1>

    <!-- FILTER -->
    <div class="filter-box">
        <label for="paymentFilter">Filter by Payment Status:</label>
        <select id="paymentFilter" onchange="filterStatus()">
            <option value="all">All</option>
            <option value="Paid">Paid</option>
            <option value="Not Paid">Not Paid</option>
        </select>
    </div>

    <!-- TABLE -->
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Contact</th>
                <th>Payment Status</th>
                <th>Month</th>
            </tr>
        </thead>

        <tbody>
            {% for student in students %}
            <tr>
                <td>{{ student.name }}</td>
                <td>{{ student.contact }}</td>
                <td class="{{ 'paid' if student.status == 'Paid' else 'not-paid' }}">{{ student.status }}</td>
                <td>{{ student.month }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- JS FILTER -->
    <script>
        function filterStatus() {
            let filter = document.getElementById("paymentFilter").value.toLowerCase();
            let rows = document.querySelectorAll("tbody tr");

            rows.forEach(row => {
                let status = row.querySelector("td:nth-child(3)").innerText.toLowerCase();

                row.style.display = (filter === "all" || status === filter) ? "" : "none";
            });
        }
    </script>

    <footer class="footer-enhanced">
        <p>Â© 2025 HostelHub All rights reserved</p>
    </footer>

</body>

</html>
